<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style type="home/css">
  </style>

</head>

<body>


<nav class="nav has-shadow">
  <div class="container">
    <div class="nav">
      <a class="nav-item" href="#">
        <img src="\assets\img\logo.png" alt="Digiform logo">
      </a>
      <a class="nav-item is-tab is-hidden-mobile" href="#">Home</a>
      <a class="nav-item is-tab is-hidden-mobile" href="#subjects">Subjects</a>
      <a class="nav-item is-tab is-hidden-mobile" href="#universities">Universities</a>
      <a class="nav-item is-tab is-hidden-mobile" href="#chat">Chat</a>
      <a class="nav-item is-tab is-hidden-mobile is-active" href="#reviews">Reviews</a>
    </div>
    <span class="nav-toggle" id="nav-toggle">
      <span></span>
      <span></span>
      <span></span>
    </span>
    <div class="nav-right nav-menu" id="nav-menu">
      <a class="nav-item is-tab" href="#profile">
        <figure class="image is-16x16" style="margin-right: 8px;">
          <img src="\assets\img\unkwown_profile.png">
        </figure>
        Profile
      </a>
      <a class="nav-item is-tab" type="submit" (click)='logout()'>Log out</a>
    </div>
  </div>
</nav>


<section class="hero is-light">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        Reviews
      </h1>
      <h2 class="subsubtitle">
        See what other students think about the universities
      </h2><br>
      <form class="login-form" (ngSubmit)="createReviewNavigate()">
          <button class="button is-warning" type="submit">Add a new review</button>
        </form>
    </div>
  </div>
</section>


<section class="section">

  <div class="container columns">

    <div class="column search-section-left is-30%">

    <form #f="ngForm" class="login-form" (ngSubmit)="getUniversityReviews(f)">

      <label class="label">Exchange university</label>
      <div class="field columns is-mobile">

        <div class="column is-one-third is-gapless ">
          <span class="select dropdown-fill">
              <select style="width:auto" (change)="getUniversityReviews(f)" name="university" id="university" ngModel required>
                <option value="" disabled selected>Choose exchange university</option>
                <option value="{{uni.id}}" *ngFor="let uni of universities">{{uni.title}}</option>
              </select>
          </span>
        </div>

      </div>

      <p *ngFor="let e of reviewError?.non_field_errors">{{e}}</p>


    </form>
    </div>
    <div class="column search-section-left is-70%">

      <tr *ngFor="let r of reviews; let i=index">
        <div class="box is-pulled-left" style="width: 100%" >
          <article class="media">
            <div class="media-content">
              <div class="content">
                <p>
                  <strong>{{r.user?.first_name}} {{r.user?.last_name}}</strong>
                  University {{r.university.title}}
                  <br>
                  <small>Lectures rating: <strong>{{r.lectures_rating}}</strong></small>
                  <small>Assigments rating: <strong>{{r.assignments_rating}}</strong></small>
                  <small>Difficulty rating: <strong>{{r.difficulty_rating}}</strong></small>
                  <small>Social rating: <strong>{{r.social_rating}}</strong></small>
                  <small>Availability rating: <strong>{{r.course_availability_rating}}</strong></small>
                  <small>Price rating: <strong>{{r.price_rating}}</strong></small>
                  <br><br>
                  Description: <i>{{r.description}}</i>

                  <br>

                </p>
              </div>
            </div>
          </article>
        </div>
        <br><br>
      </tr>

  </div>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <p>
        <strong>Digiform</strong> by <a href="http://github.com/akselreiten">Group XX</a>. The source code is licensed
        <a href="http://opensource.org/licenses/mit-license.php">NTNU</a>. The website content
        is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC ANS 4.0</a>.
      </p>
      <p>
        <a class="icon" href="https://github.com/jgthms/bulma">
          <i class="fa fa-github"></i>
        </a>
      </p>
    </div>
  </div>
</footer>

</body>
</html>
